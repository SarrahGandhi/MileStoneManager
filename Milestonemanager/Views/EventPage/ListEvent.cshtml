@model IEnumerable<Milestonemanager.Models.EventDto>
@{
    ViewData["Title"] = "Index";
}

<div class="container mt-4">
    <div class="text-center mb-4">
        <h1 class="text-truffle">List of Events</h1>
        <a asp-action="Create" class="btn btn-copper mt-2">Create New Event</a>
    </div>

    <div class="table-responsive">
        <table class="table table-bordered shadow-sm" style="background-color: #FAF3F0;">
            <thead class="table-copper text-white">
                <tr>
                    <th>@Html.DisplayNameFor(model => model.EventName)</th>
                    <th>@Html.DisplayNameFor(model => model.EventDate)</th>
                    <th>@Html.DisplayNameFor(model => model.EventLocation)</th>
                    <th>@Html.DisplayNameFor(model => model.EventCategory)</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="text-truffle">
                        <td>@Html.DisplayFor(modelItem => item.EventName)</td>
                        <td>@Html.DisplayFor(modelItem => item.EventDate)</td>
                        <td>@Html.DisplayFor(modelItem => item.EventLocation)</td>
                        <td>@Html.DisplayFor(modelItem => item.EventCategory)</td>
                        <td>
                            <a asp-action="Edit" asp-route-id="@item.EventId" class="btn btn-mushroom">Edit</a>
                            <a href="javascript:void(0);" onclick="ConfirmDelete(@item.EventId)"
                                class="btn btn-rose-quartz">Delete</a>
                            <a asp-action="Details" asp-route-id="@item.EventId" class="btn btn-blush">Details</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

<script>
    function ConfirmDelete(EventId) {
        if (confirm("Are you sure you want to delete this event?")) {
            window.location.href = "/EventPage/DeleteEvent/" + EventId;
        }
    }
</script>

<style>
    body {
        background-color: #FAF3F0;
        /* Linen */
        font-family: 'Poppins', sans-serif;
    }

    .text-truffle {
        color: #725D52;
    }

    /* Truffle */
    .btn-copper {
        background-color: #B87333;
        color: white;
        border-radius: 8px;
    }

    .btn-mushroom {
        background-color: #D1BFA0;
        color: white;
        border-radius: 8px;
    }

    .btn-rose-quartz {
        background-color: #D4A5A5;
        color: white;
        border-radius: 8px;
    }

    .btn-blush {
        background-color: #F4C6C2;
        color: white;
        border-radius: 8px;
    }

    .table-copper {
        background-color: #B87333;
    }
</style>
